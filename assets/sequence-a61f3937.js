import{r as o,i as b,j as e,H as O,L as U,a as X,F as z,c as K}from"./index-7791e74b.js";import{b as P,a as Q,h as w}from"./sound2-58d21aab.js";const V="/vite-deploy/assets/sound-c674ec41.mp3",L=[];for(let r=0;r<30;r++)L.push(Math.floor(Math.random()*9)+1);function W(r){const[t,d]=o.useState(1),[i,g]=o.useState(!1),[a,u]=o.useState([]),[x,S]=o.useState([]),f=o.useRef();function j(){f.current.style.backgroundColor="#4885c2"}function q(){f.current.style.backgroundColor="#216bb4"}function v(){setTimeout(()=>{j(),setTimeout(()=>{d(s=>s+1),q()},100)},400),console.log("You have passed the level"),u([]),C("")}o.useEffect(()=>{t>5&&t<=10&&(N(b[2]),y("I guess you are pretty below average. Try harder next time!")),t>10&&t<=18&&(N(b[3]),y("This is where most cognitive abilities stay within. You could be doing slightly better")),t>18&&t<=25&&(N(b[4]),y("Alright I get it, you have a decently good memory")),t>25&&(N(b[5]),y("Good job, you should consider trying a harder game to test your limits"));let s=L.slice();s.splice(t),S(s),g(!1),setTimeout(()=>{p()},200)},[t]);function p(){for(let s=0;s<t;s++){let c=L[s];setTimeout(()=>{const h=document.getElementById(`box${c}`);h.classList.add("main-grid-box-selected"),c<=3||c>6,n.currentTime=0,n.play(),setTimeout(()=>{h.classList.remove("main-grid-box-selected")},500-t*10)},s*750-t*10)}setTimeout(()=>{g(!0)},(t-1)*750-t*10)}new Audio(V),new Audio(P);const n=new Audio(Q);function l(s){s.target.classList.add("main-grid-box-selected"),setTimeout(()=>{s.target.classList.remove("main-grid-box-selected")},300);const c=parseInt(s.target.id.slice(3));c<=3||c>6,n.currentTime=0,n.play(),i&&u(h=>[...h,c])}function k(){g(!1),setTimeout(()=>{I(c=>c-1);const s=document.getElementsByClassName("sequence-main")[0];s.style.backgroundColor="#4885c2",setTimeout(()=>{s.style.backgroundColor="#216bb4"},100)},400),C("You lost a life. Please try again"),m>1&&setTimeout(()=>{u([]),p()},1500)}o.useEffect(()=>{if(console.log("The answer is "+a),console.log("The solution is "+x),a.length>0){x.length==1&&x[0]==a[0]&&v();for(let s=0;s<a.length;s++)if(a[s]===x[s])console.log("Answer[i] is "+a[s]),console.log("Solution[i] is "+x[s]);else{k();return}a.length==x.length&&a.length>1&&setTimeout(()=>{v()},500)}},[a]);const[m,I]=o.useState(3),[A,C]=o.useState(""),[R,y]=o.useState("Are you even trying?"),[Y,N]=o.useState(b[1]);function D(){I(-1),C("You lost all lives. Please restart game.")}return o.useEffect(()=>{if(m===0){const s=new Date,c=s.getDate(),h=s.getMonth()+1,G=s.getFullYear(),M=String(c).padStart(2,"0"),H=String(h).padStart(2,"0"),$=`${M}/${H}/${G}`,F={playerName:r.playerName,level:t,date:$},E=sessionStorage.getItem("sequenceScores"),T=E?JSON.parse(E):[];console.log(T),T.push(F),T.sort((B,J)=>J.level-B.level),sessionStorage.setItem("sequenceScores",JSON.stringify(T)),console.log("It worked")}},[m]),e.jsxs("div",{children:[e.jsxs("div",{className:`sequence-main ${m==0?"half-opacity":""} `,ref:f,children:[e.jsx("div",{className:"sequence-main-text",children:"Click the boxes in order."}),e.jsxs("div",{className:"sequence-main-hero-grid",children:[e.jsx("div",{id:"box1",className:"main-grid-box",onClick:i?l:null}),e.jsx("div",{id:"box2",className:"main-grid-box",onClick:i?l:null}),e.jsx("div",{id:"box3",className:"main-grid-box",onClick:i?l:null}),e.jsx("div",{id:"box4",className:"main-grid-box",onClick:i?l:null}),e.jsx("div",{id:"box5",className:"main-grid-box",onClick:i?l:null}),e.jsx("div",{id:"box6",className:"main-grid-box",onClick:i?l:null}),e.jsx("div",{id:"box7",className:"main-grid-box",onClick:i?l:null}),e.jsx("div",{id:"box8",className:"main-grid-box",onClick:i?l:null}),e.jsx("div",{id:"box9",className:"main-grid-box",onClick:i?l:null})]}),e.jsxs("div",{className:"sequence-level",children:["Level ",t]}),e.jsxs("div",{className:"sequence-lives",children:["Lives :",m>0&&e.jsx("img",{src:w,alt:""}),m>1&&e.jsx("img",{src:w,alt:""}),m>2&&e.jsx("img",{src:w,alt:""})]}),A&&e.jsx("div",{className:"sequence-main-display-text",children:A}),e.jsx("button",{className:"sequence-hero-button",onClick:r.toggle,children:"RESTART"})]}),m==0&&e.jsxs("div",{className:"game-over",children:[e.jsx("div",{className:"game-over-title",children:"Your Results:"}),e.jsx("img",{className:"game-over-image",src:Y,alt:""}),e.jsxs("div",{className:"game-over-text",children:["You got to Level ",t]}),e.jsx("div",{className:"game-over-flavour-text",children:R}),e.jsx("button",{onClick:()=>D(),children:"X"})]})]})}function Z(r){const t=["grid-box","grid-box","grid-box","grid-box toggle-box"],[d,i]=o.useState(t);return o.useEffect(()=>{const g=setInterval(()=>{i(a=>{const u=[...a];return u.push(u.shift()),u})},2e3);return()=>clearInterval(g)},[]),e.jsxs("div",{className:"sequence-hero",children:[e.jsx("div",{className:"sequence-hero-title",children:"Sequence Memory Game"}),e.jsxs("div",{className:"hero-grid",children:[e.jsx("div",{className:d[0]}),e.jsx("div",{className:d[2]}),e.jsx("div",{className:d[1]}),e.jsx("div",{className:d[3]})]}),e.jsx("div",{className:"sequence-hero-text",children:"Click the boxes in order."}),e.jsx("div",{className:"sequence-hero-text",children:"Good Luck!"}),e.jsx("button",{className:"sequence-hero-button",onClick:r.toggle,children:"START"})]})}function _(){const[r,t]=o.useState(!1),[d,i]=o.useState(!1),[g,a]=o.useState(!1),[u,x]=o.useState("Guest");function S(){a(l=>!l)}function f(){t(!0),i(!1)}function j(){i(!0),t(!1)}function q(){t(!1),i(!1)}const[v,p]=o.useState(!1);function n(){new Audio(P).play(),setTimeout(()=>{p(k=>!k)},500)}return e.jsxs("div",{children:[e.jsx(O,{toggleLogin:f,toggleSignup:j,toggleHighScore:S}),e.jsx(U,{closeToggle:q,loginPopup:r,signupPopup:d,toggleLogin:f,toggleSignup:j}),g&&e.jsx(X,{toggleHighScore:S}),e.jsxs("div",{className:"sequence-main-container",children:[!v&&e.jsx(Z,{toggle:n}),v&&e.jsx(W,{toggle:n,playerName:u})]}),e.jsx(z,{})]})}K.createRoot(document.getElementById("root")).render(e.jsx(_,{}));
